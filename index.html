<!DOCTYPE html>
<html lang="en">
<head>
<title>华路卓</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="baidu-site-verification" content="z8EeuYl0nS" />
<meta name="keywords" content="华路卓">
<meta name="description" content="华路卓">
<meta name="divport" content="width=device-width, initial-scale=1">
<link href="css/basic.css" rel="stylesheet"/>
<script src="js/rem.js"></script>
<script type="text/javascript"  src="js/jquery-2.1.4.min.js"></script>
<script src="js/browser.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="js/base.js" type="application/javascript"></script>
</head>
<body>
<style>
a{
    display:block;
    width:100%;
}
.w710{
    display: none;
}
.choose{
	position:absolute;
	top:0.98rem;
	background:#FFF;
	width:100%;
	z-index:999;
	}
.btn_submit{
	height:0.70rem;
	width:100%;
	line-height:0.70rem;
	text-align:center;
	font-size:0.40rem;
	color:#fff;
	background:#ed7101;
	border-radius:0;
	border:none;
}
.treatment_sort{
    width:1.6rem;
}
.job{
    height:100%;
}
.job_list{
    margin-top:0.4rem;
}
.sort_item{
	width:25%;
	text-align:center;
	color:#666;
}
.sort_in{
	height:0.78rem;
}
.sort_in img{
	width:0.27rem;
	height:0.16rem;
	margin-left:0.18rem;
}
.choose_item{
	display:none;
	width:100%;
	z-index:999;
    background: #fff;
}
.choose_list{
	width:100%;
	height:0.82rem;
	line-height:0.82rem;
	text-align:center;
}
.choose_this{
	color:#ed7101;
}
.w710{
	height:3.22rem;
	border-bottom:solid 1px #d9d9d9;
	align-items:center;
	display:flex;
}
.w750{
	background:#fff;
}
.index_tab #active{
    color:#ed7101;
}
.sort_in .img2{
  display: none;}
#active .img1{
    display: none;
}
 #active .img2{
    display: block;
}

</style>
<div id="app">
    <div class="w750">
        <div class="index_tab flexRowBetween" id="index_tab">
            <div class="tab_item active font40">
                最新岗位
            </div>
            <div class="tab_item font40">
                最新工作
            </div>
        </div>
        <div id="job">
            <div class="sort">
                <div id="tab" class="flexRowBetween font36">
                    <div class="sort_item">
                        <div class="sort_in  flexRowCenter" style="height:100%;">
                            <div class="text1" id="gr_zone_ids" data-id="130100" style="width:80%;text-align: center;">西安</div>
                            <div style="width:20%;"><img src="images/up_icon.png" /></div>
                        </div>
                    </div>
                    <div class="sort_item tab_this" :data-num="0"  @click="selectMeun">
                        <div class="sort_in flexRowCenter" :data-num="0"  @click="selectMeun">
                            <div class="text1" :data-num="0"  @click="selectMeun">薪资</div>
                            <img src="images/up_icon_a.png" class="img1" :data-num="0"  @click="selectMeun" v-if="num==0"/>
                            <img src="images/up_icon.png" class="img1" :data-num="0"  @click="selectMeun" v-else/>
                        </div>
                    </div>
                    <div class="sort_item tab_this" :data-num="1"  @click="selectMeun">
                        <div class="sort_in flexRowCenter" :data-num="1"  @click="selectMeun">
                            <div class="text1":data-num="1"  @click="selectMeun">经验</div>
                            
                            <img src="images/up_icon_a.png" class="img1" :data-num="1"  @click="selectMeun" v-if="num==1"/>
                            <img src="images/up_icon.png" class="img1" :data-num="1"  @click="selectMeun" v-else/>
                        </div>
                    </div>
                    <div class="sort_item tab_this" :data-num="2"  @click="selectMeun">
                        <div class="sort_in flexRowCenter" :data-num="2"  @click="selectMeun">
                            <div class="text1" :data-num="2"  @click="selectMeun">时间</div>
                            <img src="images/up_icon_a.png" class="img1" :data-num="2"  @click="selectMeun" v-if="num==2"/>
                            <img src="images/up_icon.png" class="img1" :data-num="2"  @click="selectMeun" v-else/>
                        </div>
                    </div>
                </div>

                <div class="choose" id="choose" >
                    <div class="choose_item font32" id="tab_cont" :style="num==0?'display:block':''">
                        <div class="choose_list choose_this" :data-price="1" @click="menuClick">
                            不限
                        </div>
                        <div class="choose_list choose_this" :data-price="2" @click="menuClick">
                            由高到低
                        </div>
                        <div class="choose_list" :data-price="3" @click="menuClick">
                            由低到高
                        </div>
                        <button class="btn_submit">确认</button>
                    </div>
                    <div class="choose_item font32" id="tab_cont" :style="num==1?'display:block':''">

                        <div class="choose_list choose_this" v-for="item in labelData">
                            {{item.title}}
                        </div>
                        
                        <button class="btn_submit">确认</button>
                    </div>
                    <div class="choose_item font32" id="tab_cont" :style="num==2?'display:block':''">
                        
                        <div class="choose_list" :data-time="1" @click="menuClick">
                            由近到远
                        </div>
                        <div class="choose_list" :data-time="2" @click="menuClick">
                            由远到近
                        </div>
                        <button class="btn_submit">确认</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="job" id="job_sort" >
            <div class="w710" v-for="item in mainData">
                <div class="job_list flexRowBetween" :data-id="item.id"  @click="intoDetail">
                    <div class="list_left" :data-id="item.id"  @click="intoDetail">
                        <div class="job_type avoidOverflow">{{item.title}}</div>
                        <div class="treatment flex" :data-id="item.id"  @click="intoDetail">
                            <div class="treatment_sort">五险一金</div>
                            <div class="treatment_sort">加班补偿</div>
                            <div class="treatment_sort">交通方便</div>
                        </div>
                        <div class="job_company flexRowBetween" :data-id="item.id"  @click="intoDetail">
                            <div class="company_img" :data-id="item.id"  @click="intoDetail">
                                <img src="images/navbar2-a.png" />
                            </div>
                            <div class="company_introuce" :data-id="item.id"  @click="intoDetail">
                                <div class="company_name avoidOverflow" :data-id="item.id"  @click="intoDetail">{{item.user[0]?item.user[0].name:''}}</div>
                                <div class="send_datail flexRowBetween font30">
                                    <div class="send_tiem">{{item.create_time}}</div>
                                    <div class="send_need">陕西|普工</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="list_right">
                        <div class="payment">{{item.price}}</div>
                        <div class="hongbao">
                            <img src="images/hongbao.png" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="solely" style="font-size:0.20rem;color:#666;text-align:center;">
    技术支持:西安纯粹科技有限公司
</div>
<div style="height:1.4rem;width:100%;"></div>
<div class="navbar">
    <a class="navbar_item" href="index.html">
        <div class="nav_img">
            <img src="images/navbar1-a.png">
        </div>
        <div class="text this-text">找工作</div>
    </a>
    <a class="navbar_item" href="user.html">
        <div class="nav_img">
            <img src="images/navbar2.png">
        </div>
        <div class="text">个人中心</div>
    </a>
    <a class="navbar_item" href="about.html">
        <div class="nav_img">
            <img src="images/navbar3.png">
        </div>
        <div class="text">了解我们</div>
    </a>
</div>
</div>
<script type="text/javascript">
            
    var app = new Vue({
        el: '#app',
        data: function() {
            return {
                labelData:[],
                mainData:[],
              
                
                paginate: {
                    
                    count: 0,
                    currentPage: 1,
                    pagesize: 6,
                    is_page: true,
                },

                searchItem:{
                   type:1,
                   category_id:33  
                },
                pageArray:[],
                allPages:0,
                linkPage:'',
                num:'100000'
            }   

        },
        
        created: function () {

            this.productGet();
            this.getLabelData()
        },

        methods:{

            productGet(){
                const self = this;
                const postData =  window.base.cloneForm(self.searchItem)
                postData.getAfter = {
                    user:{
                        tableName:'userInfo',
                        middleKey:'user_no',
                        key:'user_no',
                        searchItem:{
                            status:1
                        },
                        condition:'='
                    }
                }

                const callback = (res)=>{
                    if(res.info.data.length>0){
                        self.mainData.push.apply(self.mainData,res.info.data);
                    }else{
                        alert('没有更多了')
                    }
                    console.log(self.mainData)
                }
                window.base.productGet(postData,callback);
            },  

            getLabelData(){
                const self = this;
                const postData = {};
                postData.paginate = window.base.cloneForm(self.paginate);
                postData.searchItem = {
                  thirdapp_id:2
                };
                postData.getBefore = {
                  labelData:{
                    tableName:'label',
                    searchItem:{
                      title:['=',['经验筛选']],
                    },
                    middleKey:'parentid',
                    key:'id',
                    condition:'in',
                  },
                };
                const callback = (res)=>{
                  if(res.info.data.length>0){
                    self.labelData.push.apply(self.labelData,res.info.data);
                  }else{
                    
                    alert('没有更多了');
                  };
                };
                window.base.labelGet(postData,callback);
            },

            intoDetail(e) {
                var self = this;
                var art_id = window.base.getDataSet(e).id;
                window.location.href = "./indexDetail.html?id=" + art_id;
            },   

            selectMeun(e){
                var self = this;
                console.log(e)
                self.num =  window.base.getDataSet(e).num;
                console.log(window.base.getDataSet(e).num)
            },

            menuClick: function (e) {
                const self = this;
                const type = e.currentTarget.dataset.type;
               
                self.changeSearch(type);
            },

              changeSearch(type){
                const self = this;
            
                self.searchItem = {};
                if(type=='1'){

                }else if(type=='2'){

                }else if(type=='3'){
                  
                }
               
                self.productGet();
              },
        }
    });            
</script>
</body>
</html>