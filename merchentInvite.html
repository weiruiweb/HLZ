<!DOCTYPE html>
<html lang="en">
<head>
<title>面试邀请</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="baidu-site-verification" content="z8EeuYl0nS" />
<meta name="keywords" content="华路卓">
<meta name="description" content="华路卓">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
<link href="css/basic.css" rel="stylesheet"/>

<script src="js/jquery-2.1.4.min.js"></script>
<script src="js/rem.js"></script>
<script src="js/browser.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="js/base.js" type="application/javascript"></script>

</head>
<body>
<style>
.w750{
    color:#666;
    width:100%;
    min-height:100%;
    background: #f2f2f2;
}
.index_tab{
  background:#fff;
  margin-bottom:.20rem;
}
.w710{
  height:2.62rem;
  border-bottom:solid 1px #d9d9d9;
  align-items:center;
  display:flex;
  margin-bottom:.10rem;
  background:#fff;
}
.job_list{
  height:2.20rem;
  width:100%;
}
.list_left{
  width:70%;
  height:2.20rem;
}
.list_right{
  width:27%;
  padding-right:3%;
  height:2.20rem;
  text-align:right;
}
.job_type{
  height:22%;
}

.job_company{
  height:34%;
  width:100%;
}
.treatment{
  height:22%;
  width:100%;
  display:flex;
  align-items:center;
}
.treatment_sort{
  margin-right:.140rem;
  padding:0.03rem 0.1rem;
}
.treatment_sort img{
  width:.22rem;
  height:.22rem;
  margin-right:0.03rem;
}
.company_img{
  width:16%;
  height:100%;
  align-items:center;
  display:flex;
}
.company_img img{
  width:.72rem;
  height:100%;
}
.company_introuce{
  width:84%;
  height:100%;
}
.send_datail{
  width:60%;
}
.send_tiem{
  font-size:.26rem;
  color:#999;
}
.send_need{
  font-size:.26rem;
  color:#666;
}
.payment{
  height:66%;
}
.hongbao{
  height:34%;
  text-align:right;
  display:flex;
  align-items:center;
  width:100%;
}
.numner{
  width:.52rem;
  height:.52rem;
  line-height:.52rem;
  border-radius:50%;
  background:#ed7101;
  align-items:center;
  text-align:center;
  color:#fff;
  font-size:.26rem;
  float:right;
  position:absolute;
  right:0;
}
.handle{
  height:2.62rem;
  width:13%;
  text-align:center;
}
.handle_top{
  height:50%;
  width:100%;
  align-items:center;
  display:flex;
  background:#ed7101;
}
.handle_bottom{
  background:#11a983;
}
.handle img{
  width:.44rem;
  height:.44rem;
  margin:0 auto;
}
.index_tab .active{
  color:#ed7101;
  border-bottom:solid 1px #ed7101;
}
.job>div{
  display: none;
}
a{color:#fff;}
</style>
<div id="app">
<div class="w750">
  <div class="index_tab flexRowBetween">
    <div class="tab_item" :data-num='0' @click="menuClick" :style="num=='0'?'color:#ed7101':''">
        已拒绝
    </div>
    <div class="tab_item" :data-num='1' @click="menuClick" :style="num=='1'?'color:#ed7101':''">
        待面试
    </div>
    <div class="tab_item" :data-num='2' @click="menuClick" :style="num=='2'?'color:#ed7101':''">
        已入职
    </div>
    <div class="tab_item" :data-num='3' @click="menuClick" :style="num=='3'?'color:#ed7101':''">
        已离职
    </div>
  </div>
  <div class="job" v-for="item in mainData">
    <div style="display: block">
      <div class="flexRowBetween" style="height:2.62rem;overflow:hidden;width:100%;margin-bottom:.14rem;">
          <div style="width:87%;height:2.62rem;">
              <div class="w710">
                  <div class="job_list flexRowBetween">
                      <div class="list_left">
                          <div class="job_type avoidOverflow">{{item.userInfo[0].name}}</div>
                          <div class="treatment flex font28">
                              <div class="treatment_sort">
                                  <img src="images/resume1.png"/>{{item.userInfo[0].address}}</div>
                              <div class="treatment_sort">
                                  <img src="images/resume2.png"/>{{item.userInfo[0].gender=='1'?'男':'女'}}</div>
                          </div>
                          <div class="treatment flex font28">
                              <div class="treatment_sort">
                                  <img src="images/resume4.png"/>{{item.userInfo[0].email}}</div>
                              <div class="treatment_sort">
                                  <img src="images/resume5.png"/>{{item.userInfo[0].date}}</div>
                          </div>
                          <div class="job_company flex font28">
                              <div class="company_img">
                                  <img src="images/navbar2-a.png"/>
                              </div>
                              <div class="company_name avoidOverflow font38">{{item.user[0].name}}</div>
                          </div>
                      </div>
                      <div class="list_right">
                          <div class="payment">{{item.products[0].snap_product.price}}</div>
                          <div class="hongbao font34">
                              <div style="width:100%;height:40%;overflow:hidden;text-align: right;">{{item.create_time	}}</div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="handle">
              <div class="handle_top">
                  <img src="images/interview2.png"/>
              </div>
              <div class="handle_top handle_bottom">
                  <img src="images/interview1.png"/>
              </div>
          </div>
      </div>
    </div>
    <div>2</div>
    <div>3</div>
    <div>4</div>
  </div>
</div>
</div>
<script type="text/javascript">
  $(function(){
      function tabs(tabTit,on,tabCon){
          $(tabTit).children().click(function(){
              $(this).addClass(on).siblings().removeClass(on);
              var index = $(tabTit).children().index(this);
              $(tabCon).children().eq(index).show().siblings().hide();
        });
    };
      tabs(".index_tab","active",".job");
  });
</script>
<script type="text/javascript">
            
    var app = new Vue({
        el: '#app',
        data: function() {
            return {
             
                mainData:[],
                passage_array:[],
              
                paginate: {
                    
                },

                searchItem:{
                	user_type:0,
                  	passage1:localStorage.getItem('merchant_no'),
                  	order_step:3
                },
              
                pageArray:[],
                allPages:0,
                linkPage:'',
                num:'0'
            }   

        },
        computed: {
            // 计算属性的 getter
            stringifyOrder: function () {
              return JSON.stringify(this.order).replace(/\"/g,"");
            }
        },

        created: function () {
            var callback = (res)=>{
               this.productGet()
                
            };
            window.base.getMerchantToken(callback);
        },

        methods:{

            productGet(isNew){
                const self = this;
                if(isNew){
                    self.mainData = [];
                    self.paginate = {
                        count: 0,
                        currentPage: 1,
                        pagesize: 6,
                        is_page: true,
                    }
                };
                const postData = {}
                postData.token = localStorage.getItem('merchant_token');
                postData.searchItem = window.base.cloneForm(self.searchItem);
                postData.getAfter={
		            userInfo:{
		              tableName:'UserInfo',
		              middleKey:'user_no',
		              key:'user_no',
		              condition:'=',
		              searchItem:{
		                status:['in',[1]]
		              },
		            },
		            user:{
		              tableName:'UserInfo',
		              middleKey:'passage1',
		              key:'user_no',
		              condition:'=',
		              searchItem:{
		                status:['in',[1]]
		              },
		            } 
		          }; 
    
                const callback = (res)=>{
                    if(res.info.data.length>0){
                        self.mainData.push.apply(self.mainData,res.info.data);
                       

                    }else{
                        alert('没有更多了')
                    }
                  
                }
                window.base.orderGet(postData,callback);
            },  

            menuClick(e){
            	const  self = this;
            	self.num = window.base.getDataSet(e).num;
            	self.changeSearch(self.num)
            },

            changeSearch(num){
            	const self = this;
            	if(num=='0'){
            		self.searchItem.order_step = 3
            	}else if(num=='1'){
            		self.searchItem.order_step = 2
            	}else if(num=='2'){
            		self.searchItem.order_step = 4
            	}else if(num=='3'){
            		self.searchItem.order_step = 5
            	};
            	self.productGet(true)
            },


            intoDetail(e) {
                var self = this;
                var art_id = window.base.getDataSet(e).id;
                window.location.href = "./indexDetail.html?id=" + art_id;
            },   



    } 

});           
</script>
</body>
</html>